@model IEnumerable<Blog.Models.Comment>

<div class="card-body">
    @if (Model is null || Model.Count() == 0)
    {
        <div class="card-text">There are no comments yet.</div>
    }
    else
    {
        @foreach (var comment in Model)
        {
            <div class="card mb-2">
                <div class="card-header d-flex">
                    <div>
                        @comment.Username
                    </div>
                    @if (User.IsInRole("Administrator") || User.Identity.Name == comment.Username)
                    {
                        <partial name="_DeleteCommentPartial" model="comment" />
                    }
                </div>
                <div class="card-body">
                    <div class="card-text">@comment.Text</div>
                    <div class="text-right card-text" style="color: gray">@comment.DateCreated</div>
                </div>
            </div>
        }
    }
    <partial name="_AddCommentPartial" model="new Comment()" />
</div>
